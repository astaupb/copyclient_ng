<material-list>
    <a *ngFor="let job of ((jobsBloc | bloc)?.value?.reversed)">
        <material-list-item class="job-item">
            <material-button (trigger)="keepJob(job.id)">
                <material-icon [icon]="(job.jobOptions.keep) ? 'favorite' : 'favorite_outline'"></material-icon>
            </material-button>
            <div class="jobitem-info" [routerLink]="jobDetailsUrl(job.id)">
                <b><span class="filename">{{job.jobInfo?.filename}}</span></b><br>
                <span class="timestamp">{{DateTime.fromMillisecondsSinceEpoch(job?.timestamp *
                    1000).toString().split('.')[0]}}</span>
            </div>
            <material-button class="delete-button" (trigger)="deleteJob(job.id)">
                <material-icon icon="delete"></material-icon>
            </material-button>
            <material-button class="print-button" (trigger)="printJobDialog(job.id)">
                <material-icon icon="printer"></material-icon>
            </material-button>
        </material-list-item>
    </a>

</material-list>

<app-footer>
    <section id="version">
        Joblist length: {{(jobsBloc | bloc)?.value?.length}}
    </section>
    <section id="refresh-action-bar">
        <material-button class="action-bar-button" (trigger)="refreshJobs()">
            <material-icon class="action-bar-icon" icon="refresh"></material-icon>
        </material-button>
    </section>
</app-footer>

<modal [visible]="showSelectPrinter">
    <material-dialog id="selectPrinter">
        <h1 header>Drucker ausw√§hlen</h1>
        <p>
            Stellplatznummer: <material-input type="number" [(ngModel)]="selectedPrinter"></material-input>
        </p>
        <div footer>
            <material-button autoFocus clear-size (trigger)="showSelectPrinter = false">
                Abbrechen
            </material-button>
            <material-button autoFocus clear-size (trigger)="printJob()">
                Drucken
            </material-button>
        </div>
    </material-dialog>
</modal>