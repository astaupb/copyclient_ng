<div class="login-container">
    <form #loginForm="ngForm" class="mdc-card login-card">
        <h2>AStA Copyclient Login</h2>
        <material-input autoFocus id="username" class="login-input" label="Nutzername/SN" [maxRows]="1"
            [checkValid]="validateUsername" required type="text" #username="ngForm" ngControl="username"
            [(ngModel)]="cred.username" @i18n:label="Label for username field of login form"></material-input>
        <material-input id="password" type="password" class="login-input" label="Passwort/PIN" #password="ngForm"
            ngControl="password" [maxRows]="1" [checkValid]="validatePassword" required name="password"
            [(ngModel)]="cred.password" (keyup.enter)="submitForm()"
            @i18n:label="Label for password field of login form"></material-input>
        <material-checkbox [(ngModel)]="cred.saveToken" label="Eingeloggt bleiben"
            @i18n:label="Label for checkbox deciding wether you wanna stay logged in"></material-checkbox>
        <material-button (trigger)="submitForm()" type="submit" class="login-button" raised
            @i18n="Login button text of login form">Einloggen</material-button>
        <material-button tooltipTarget #refReset="tooltipTarget" class="reset-button" (trigger)="clearForm()">
            <material-icon icon="refresh"></material-icon>
            <material-tooltip-text [for]="refReset">
                <header @i18n="Tooltip text for reset-login-form button">Login-Formular zur端cksetzen</header>
            </material-tooltip-text>
        </material-button>
    </form>
</div>

<a [routerLink]="RoutePaths.register.toUrl()">
    <material-button class="login-button register-button" @i18n="Button text for link to account registration">Zur Registrierung</material-button>
</a>

<div *ngIf="showException" class="loginException">
    {{(exception.statusCode == 0) ? 'Zeit端berschreitung beim Login - Bitte 端berpr端fe deine Internetverbindung' : 
        ((exception.statusCode == 400) ? 'Nicht erlaubte Zeichen im Nutzernamen oder Passwort' : 
        ((exception.statusCode == 401) ? 'Username oder Passwort falsch' : 
        ((exception.statusCode >= 500) ? 'Serverfehler - Bitte versuche es in einem Moment noch mal' 
        : exception.toString())))}}
</div>