<div *ngIf="!printerLocked">
    <h1 header>Drucker ausw채hlen</h1>
    <div class="printer-selector">
        <material-button *ngIf="leftPrinter.isNotEmpty" class="printer-selection" (trigger)="lockLeft()">
            <material-icon class="big-ass-icon" icon="keyboard_arrow_left"></material-icon>
            Linker<br>Drucker
        </material-button>
        <material-button *ngIf="rightPrinter.isNotEmpty" class="printer-selection" (trigger)="lockRight()">
            Rechter<br>Drucker
            <material-icon class="big-ass-icon" icon="keyboard_arrow_right"></material-icon>
        </material-button>
    </div>
</div>

<div *ngIf="printerLocked">
    Die Drucker-Reservierung f체r den Drucker {{ (lockedPrinter == leftPrinter) ? 'links' : 'rechts'}} von dir ist nun
    aktiv.<br>
    Du kannst jetzt Scannen und die Dokumente landen bei deinen Druckjobs.
    <p>
        <b>Wichtig: F체r die richtige Zuordnung musst du w채hrend dem Scannen auf dieser Seite bleiben</b>
    </p>
    <h2>Neue Jobs:</h2>
    <div>
        <material-list-item class="scan-jobs-item" *ngFor="let task of uploadTasks">
            <div class="scan-job-title">
                {{ task?.filename ?? '' }}
            </div><br>
            <span class="timestamp">
                {{ DateTime.now().toString().split('.')[0] }}
            </span>
            <div class="scan-job-controls">
                <material-spinner></material-spinner>
            </div>
        </material-list-item>

        <material-list-item *ngFor="let job of newJobs" class="scan-jobs-item">
            <a [routerLink]="jobDetailsUrl(job.id)">
                <div class="scan-job-title">
                    {{ job?.jobInfo?.filename }}
                </div><br>
                <span class="timestamp">
                    {{ DateTime.fromMillisecondsSinceEpoch(job?.timestamp *
                        1000).toString().split('.')[0] }}
                </span>
            </a>
            <div class="scan-job-controls" id="">
                <material-button class="control-button" (trigger)="directPrint(job?.id)">
                    <material-icon icon="printer"></material-icon>
                </material-button>
                <material-button class="control-button" (trigger)="directDelete(job?.id)">
                    <material-icon icon="delete"></material-icon>
                </material-button>
                <material-button (trigger)="downloadPdf(job?.id)">
                    <material-icon icon="cloud_download"></material-icon>
                </material-button>
            </div>
        </material-list-item>
    </div>
</div>