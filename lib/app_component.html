<fullscreen-spinner *ngIf="appBusy"></fullscreen-spinner>

<material-drawer persistent #drawer="drawer" [class.custom-width]="customWidth" *ngIf="authorized">
    <material-list *deferredContent>
        <div group class="mat-drawer-spacer"></div>
        <div group>
            <material-list-item>
                <material-icon icon="inbox"></material-icon>Jobliste
            </material-list-item>
            <material-list-item>
                <material-icon icon="cloud_upload"></material-icon>Hochladen
            </material-list-item>
        </div>
        <div group>
            <div label>Tags</div>
            <material-list-item>
                <material-icon icon="favorite"></material-icon>Favoriten
            </material-list-item>
        </div>
    </material-list>
</material-drawer>

<header class="material-header" *ngIf="authorized">
    <div class="material-header-row">
        <material-button icon class="material-drawer-button" (trigger)="null">
            <material-icon icon="menu"></material-icon>
        </material-button>
        <span class="material-header-title">AStA Copyclient</span>
        <div class="material-spacer"></div>
        <material-button popupSource #source="popupSource" icon class="material-drawer-button" (trigger)="navOptionsVisible = !navOptionsVisible">
            <material-icon icon="more_vert"></material-icon>
        </material-button>
        <material-popup [source]="source" [(visible)]="navOptionsVisible" [preferredPositions]="[popupPosition]">
            <material-list>
                <material-list-item (click)="onLogout()">Logout</material-list-item>
            </material-list>
        </material-popup>
    </div>
</header>

<material-content *ngIf="!appBusy">
    <login-form *ngIf="!authorized"></login-form>
    <joblist *ngIf="authorized"></joblist>
</material-content>
